<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Radar Visualization</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="container">
      <div class="main-content">
        <div class="canvas-wrapper">
          <div class="radar-container">
            <canvas id="radarCanvas"></canvas>
          </div>
        </div>
        <div class="main-controls">
          <button id="playPauseBtn" onclick="togglePlayPause()">‚ñ∂Ô∏è Play</button>
          <button id="resetBtn" onclick="resetAnimation()">üîÑ Reset</button>
        </div>
        <div class="speed-control">
          <input
            type="range"
            id="globalSpeed"
            min="10"
            max="500"
            value="100"
            step="5"
          />
          <span id="globalSpeedValue">1.0√ó</span>
        </div>
        <div class="mode-controls">
          <div class="mode-buttons">
            <!-- Mode buttons will be dynamically populated -->
          </div>
          <div class="mode-actions">
            <button id="saveModeA" class="mode-button">
              üíæ Save as Mode A
            </button>
            <button id="saveModeB" class="mode-button">
              üíæ Save as Mode B
            </button>
            <button id="addNewMode" class="mode-button">‚ûï Add New Mode</button>
          </div>
        </div>
      </div>

      <div class="controls-panel">
        <div class="settings-menu">
          <div class="preset-controls">
            <button id="savePreset">üíæ Save Current Settings</button>
            <button id="loadPreset">üìÇ Load Settings</button>
            <input
              type="file"
              id="presetFileInput"
              accept=".json"
              style="display: none"
            />
          </div>
          <h5 data-panel="planet-controls" class="active">Planet Controls</h5>
          <h5 data-panel="sun-controls">Sun Controls</h5>
          <h5 data-panel="moon-controls">Moon Controls</h5>
          <h5 data-panel="radar-controls">Radar UI Controls</h5>
          <h5 data-panel="alignment-days">Alignment Days</h5>
          <h5 data-panel="gravity-effect">Gravity Effect</h5>
          <h5 data-panel="embed-settings">Embed Settings</h5>
        </div>

        <div class="settings-content">
          <div id="planet-controls" class="control-group active">
            <div class="accordion-header">
              <h3>Planet Controls</h3>
              <span class="accordion-icon">‚ñº</span>
            </div>
            <div class="accordion-content">
              <div class="control-section">
                <h4>Orbit & Size</h4>
                <div class="control-item">
                  <label>Planet Color</label>
                  <input type="color" id="planetColor" value="#2b4d59" />
                </div>
                <div class="control-item">
                  <label>Orbit Radius (Ring Level: 1-4)</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="planetOrbitRadius"
                      min="1"
                      max="4"
                      step="0.1"
                      value="3"
                    />
                    <span class="value-display" id="planetOrbitRadiusValue"
                      >3.0</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Planet Size (√ó1.618)</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="planetSize"
                      min="1"
                      max="5"
                      step="1"
                      value="1"
                    />
                    <span class="value-display" id="planetSizeValue">1.0√ó</span>
                  </div>
                </div>
                <div class="control-item">
                  <label>Rotation Velocity (√ó1.618)</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="planetPeriod"
                      min="1"
                      max="5"
                      step="1"
                      value="1"
                    />
                    <span class="value-display" id="planetPeriodValue"
                      >1.618√ó</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Direction</label>
                  <select id="planetDirection">
                    <option value="1">Clockwise</option>
                    <option value="-1">Counterclockwise</option>
                  </select>
                </div>
              </div>

              <div class="control-section">
                <h4>Particle Flow</h4>
                <div class="control-item">
                  <label>Enable Particle Flow</label>
                  <div class="heartbeat-switch-container">
                    <label class="switch">
                      <input type="checkbox" id="particleFlowEnabled" />
                      <span class="slider round"></span>
                    </label>
                    <span class="switch-label">Enable</span>
                  </div>
                </div>
                <div class="control-item">
                  <label>Particle Color</label>
                  <input type="color" id="particleColor" value="#2b4d59" />
                </div>
                <div class="control-item">
                  <label>Particle Size</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="particleSize"
                      min="1"
                      max="10"
                      step="1"
                      value="3"
                    />
                    <span class="value-display" id="particleSizeValue"
                      >3px</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Particle Amount</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="particleAmount"
                      min="10"
                      max="100"
                      step="5"
                      value="30"
                    />
                    <span class="value-display" id="particleAmountValue"
                      >30</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Flow Speed</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="particleSpeed"
                      min="1"
                      max="10"
                      step="1"
                      value="5"
                    />
                    <span class="value-display" id="particleSpeedValue"
                      >5√ó</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Particle Opacity</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="particleOpacity"
                      min="10"
                      max="100"
                      step="5"
                      value="70"
                    />
                    <span class="value-display" id="particleOpacityValue"
                      >70%</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Particle Dispersion</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="particleDispersion"
                      min="0"
                      max="100"
                      step="5"
                      value="30"
                    />
                    <span class="value-display" id="particleDispersionValue"
                      >30%</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Day-based Timing</label>
                  <div class="heartbeat-switch-container">
                    <label class="switch">
                      <input type="checkbox" id="particleDayTiming" checked />
                      <span class="slider round"></span>
                    </label>
                    <span class="switch-label">Enable</span>
                  </div>
                </div>
                <div class="control-item">
                  <label>Alignment Sync</label>
                  <div class="heartbeat-switch-container">
                    <label class="switch">
                      <input type="checkbox" id="particleAlignmentSync" />
                      <span class="slider round"></span>
                    </label>
                    <span class="switch-label">Enable</span>
                  </div>
                </div>
              </div>

              <div class="control-section">
                <h4>Radio Waves</h4>
                <div class="control-item">
                  <label>Enable Radio Waves</label>
                  <div class="heartbeat-switch-container">
                    <label class="switch">
                      <input type="checkbox" id="planetRadioWavesEnabled" />
                      <span class="slider round"></span>
                    </label>
                    <span class="switch-label">Enable</span>
                  </div>
                </div>
                <div class="control-item">
                  <label>Wave Color</label>
                  <input
                    type="color"
                    id="planetRadioWaveColor"
                    value="#2b4d59"
                  />
                </div>
                <div class="control-item">
                  <label>Wave Speed</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="planetRadioWaveSpeed"
                      min="1"
                      max="10"
                      step="1"
                      value="3"
                    />
                    <span class="value-display" id="planetRadioWaveSpeedValue"
                      >3√ó</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Wave Spacing</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="planetRadioWaveSpacing"
                      min="10"
                      max="50"
                      step="5"
                      value="20"
                    />
                    <span class="value-display" id="planetRadioWaveSpacingValue"
                      >20px</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Wave Thickness</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="planetRadioWaveThickness"
                      min="1"
                      max="5"
                      step="0.5"
                      value="1.5"
                    />
                    <span
                      class="value-display"
                      id="planetRadioWaveThicknessValue"
                      >1.5px</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Wave Arc (degrees)</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="planetRadioWaveArc"
                      min="30"
                      max="180"
                      step="15"
                      value="90"
                    />
                    <span class="value-display" id="planetRadioWaveArcValue"
                      >90¬∞</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Wave Range (%)</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="planetRadioWaveRange"
                      min="10"
                      max="100"
                      step="5"
                      value="100"
                    />
                    <span class="value-display" id="planetRadioWaveRangeValue"
                      >100%</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Wave Opacity</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="planetRadioWaveOpacity"
                      min="10"
                      max="100"
                      step="5"
                      value="70"
                    />
                    <span class="value-display" id="planetRadioWaveOpacityValue"
                      >70%</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Day-based Timing</label>
                  <div class="heartbeat-switch-container">
                    <label class="switch">
                      <input
                        type="checkbox"
                        id="planetRadioWaveDayTiming"
                        checked
                      />
                      <span class="slider round"></span>
                    </label>
                    <span class="switch-label">Enable</span>
                  </div>
                </div>
                <div class="control-item">
                  <label>Alignment Sync</label>
                  <div class="heartbeat-switch-container">
                    <label class="switch">
                      <input
                        type="checkbox"
                        id="planetRadioWaveAlignmentSync"
                      />
                      <span class="slider round"></span>
                    </label>
                    <span class="switch-label">Enable</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div id="sun-controls" class="control-group">
            <div class="accordion-header">
              <h3>Sun Controls</h3>
              <span class="accordion-icon">‚ñº</span>
            </div>
            <div class="accordion-content">
              <div class="control-item">
                <label>Sun Size</label>
                <div class="slider-with-value">
                  <input
                    type="range"
                    id="sunSize"
                    min="1"
                    max="5"
                    value="1"
                    step="1"
                  />
                  <span id="sunSizeValue">1.0√ó</span>
                </div>
              </div>
              <div class="control-item">
                <label>Sun Color</label>
                <input type="color" id="sunColor" value="#ffb347" />
              </div>
              <div class="control-item">
                <label>Sun Heartbeat</label>
                <div class="heartbeat-switch-container">
                  <label class="switch">
                    <input type="checkbox" id="sunHeartbeatEnabled" checked />
                    <span class="slider round"></span>
                  </label>
                  <span class="switch-label">Enable</span>
                </div>
                <div class="slider-with-value">
                  <input
                    type="range"
                    id="sunHeartbeatsPerDay"
                    min="1"
                    max="9"
                    step="1"
                    value="1"
                  />
                  <span class="value-display" id="sunHeartbeatsPerDayValue"
                    >1.0/day</span
                  >
                </div>
              </div>

              <div class="control-section">
                <h4>Particle Flow</h4>
                <div class="control-item">
                  <label>Enable Particle Flow</label>
                  <div class="heartbeat-switch-container">
                    <label class="switch">
                      <input type="checkbox" id="sunParticleFlowEnabled" />
                      <span class="slider round"></span>
                    </label>
                    <span class="switch-label">Enable</span>
                  </div>
                </div>
                <div class="control-item">
                  <label>Particle Color</label>
                  <input type="color" id="sunParticleColor" value="#ffb347" />
                </div>
                <div class="control-item">
                  <label>Particle Size</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="sunParticleSize"
                      min="1"
                      max="10"
                      step="1"
                      value="3"
                    />
                    <span class="value-display" id="sunParticleSizeValue"
                      >3px</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Particle Amount</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="sunParticleAmount"
                      min="10"
                      max="100"
                      step="5"
                      value="30"
                    />
                    <span class="value-display" id="sunParticleAmountValue"
                      >30</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Flow Speed</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="sunParticleSpeed"
                      min="1"
                      max="10"
                      step="1"
                      value="5"
                    />
                    <span class="value-display" id="sunParticleSpeedValue"
                      >5√ó</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Particle Opacity</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="sunParticleOpacity"
                      min="10"
                      max="100"
                      step="5"
                      value="70"
                    />
                    <span class="value-display" id="sunParticleOpacityValue"
                      >70%</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Particle Dispersion</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="sunParticleDispersion"
                      min="0"
                      max="100"
                      step="5"
                      value="30"
                    />
                    <span class="value-display" id="sunParticleDispersionValue"
                      >30%</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Day-based Timing</label>
                  <div class="heartbeat-switch-container">
                    <label class="switch">
                      <input
                        type="checkbox"
                        id="sunParticleDayTiming"
                        checked
                      />
                      <span class="slider round"></span>
                    </label>
                    <span class="switch-label">Enable</span>
                  </div>
                </div>
                <div class="control-item">
                  <label>Alignment Sync</label>
                  <div class="heartbeat-switch-container">
                    <label class="switch">
                      <input type="checkbox" id="sunParticleAlignmentSync" />
                      <span class="slider round"></span>
                    </label>
                    <span class="switch-label">Enable</span>
                  </div>
                </div>
              </div>

              <div class="control-section">
                <h4>Radio Waves</h4>
                <div class="control-item">
                  <label>Enable Radio Waves</label>
                  <div class="heartbeat-switch-container">
                    <label class="switch">
                      <input type="checkbox" id="sunRadioWavesEnabled" />
                      <span class="slider round"></span>
                    </label>
                    <span class="switch-label">Enable</span>
                  </div>
                </div>
                <div class="control-item">
                  <label>Wave Color</label>
                  <input type="color" id="sunRadioWaveColor" value="#ffb347" />
                </div>
                <div class="control-item">
                  <label>Wave Speed</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="sunRadioWaveSpeed"
                      min="1"
                      max="10"
                      step="1"
                      value="3"
                    />
                    <span class="value-display" id="sunRadioWaveSpeedValue"
                      >3√ó</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Wave Spacing</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="sunRadioWaveSpacing"
                      min="10"
                      max="50"
                      step="5"
                      value="20"
                    />
                    <span class="value-display" id="sunRadioWaveSpacingValue"
                      >20px</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Wave Thickness</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="sunRadioWaveThickness"
                      min="1"
                      max="5"
                      step="0.5"
                      value="1.5"
                    />
                    <span class="value-display" id="sunRadioWaveThicknessValue"
                      >1.5px</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Wave Arc (degrees)</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="sunRadioWaveArc"
                      min="30"
                      max="180"
                      step="15"
                      value="90"
                    />
                    <span class="value-display" id="sunRadioWaveArcValue"
                      >90¬∞</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Wave Range (%)</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="sunRadioWaveRange"
                      min="10"
                      max="100"
                      step="5"
                      value="100"
                    />
                    <span class="value-display" id="sunRadioWaveRangeValue"
                      >100%</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Wave Opacity</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="sunRadioWaveOpacity"
                      min="10"
                      max="100"
                      step="5"
                      value="70"
                    />
                    <span class="value-display" id="sunRadioWaveOpacityValue"
                      >70%</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Day-based Timing</label>
                  <div class="heartbeat-switch-container">
                    <label class="switch">
                      <input
                        type="checkbox"
                        id="sunRadioWaveDayTiming"
                        checked
                      />
                      <span class="slider round"></span>
                    </label>
                    <span class="switch-label">Enable</span>
                  </div>
                </div>
                <div class="control-item">
                  <label>Alignment Sync</label>
                  <div class="heartbeat-switch-container">
                    <label class="switch">
                      <input type="checkbox" id="sunRadioWaveAlignmentSync" />
                      <span class="slider round"></span>
                    </label>
                    <span class="switch-label">Enable</span>
                  </div>
                </div>
              </div>

              <div class="control-section">
                <h4>Sunspots</h4>
                <div class="control-item">
                  <label>Enable Sunspots</label>
                  <div class="heartbeat-switch-container">
                    <label class="switch">
                      <input type="checkbox" id="sunspotsEnabled" />
                      <span class="slider round"></span>
                    </label>
                    <span class="switch-label">Enable</span>
                  </div>
                </div>
                <div class="control-item">
                  <label>Spots per Day</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="spotsPerDay"
                      min="1"
                      max="5"
                      step="1"
                      value="1"
                    />
                    <span class="value-display" id="spotsPerDayValue">1</span>
                  </div>
                </div>
                <div class="control-item">
                  <label>Spot Size</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="sunspotSize"
                      min="1"
                      max="5"
                      step="1"
                      value="1"
                    />
                    <span class="value-display" id="sunspotSizeValue"
                      >4.0px</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Attraction Force</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="sunspotAttraction"
                      min="-1"
                      max="1"
                      step="0.1"
                      value="0.5"
                    />
                    <span class="value-display" id="sunspotAttractionValue"
                      >0.5</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Energy Level</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="sunspotEnergy"
                      min="0.1"
                      max="2"
                      step="0.1"
                      value="1"
                    />
                    <span class="value-display" id="sunspotEnergyValue"
                      >1.0√ó</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Spot Color</label>
                  <input type="color" id="sunspotColor" value="#ff4500" />
                </div>
                <div class="control-item">
                  <label>Clear Spots</label>
                  <button id="clearSunspots" class="control-button">
                    Clear All Spots
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div id="moon-controls" class="control-group">
            <div class="accordion-header">
              <h3>Moon Controls</h3>
              <span class="accordion-icon">‚ñº</span>
            </div>
            <div class="accordion-content">
              <div class="control-section">
                <h4>First Moon</h4>
                <div class="control-item">
                  <label
                    >Orbit Radius (Ring Levels: -4 to +4, steps of 0.5)</label
                  >
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="moonOrbitRadius"
                      min="-8"
                      max="8"
                      step="1"
                      value="0"
                    />
                    <span class="value-display" id="moonOrbitRadiusValue"
                      >0.0</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Moon Size (√ó1.618)</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="moonSize"
                      min="1"
                      max="5"
                      step="1"
                      value="1"
                    />
                    <span class="value-display" id="moonSizeValue">1.0√ó</span>
                  </div>
                </div>
                <div class="control-item">
                  <label>Orbit Period (rotations per day)</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="moonPeriod"
                      min="0.5"
                      max="6"
                      step="0.5"
                      value="2"
                    />
                    <span class="value-display" id="moonPeriodValue"
                      >2.0/day</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Direction</label>
                  <select id="moonDirection">
                    <option value="1">Clockwise</option>
                    <option value="-1">Counterclockwise</option>
                  </select>
                </div>
                <div class="control-item">
                  <label>Starting Position (degrees)</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="moonStartingPosition"
                      min="0"
                      max="360"
                      step="15"
                      value="0"
                    />
                    <span class="value-display" id="moonStartingPositionValue"
                      >0¬∞</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Moon Color</label>
                  <input type="color" id="moonColor" value="#a5a5a5" />
                </div>
                <div class="control-item">
                  <label>Active Moon Color</label>
                  <input type="color" id="activeMoonColor" value="#ff6b35" />
                </div>
              </div>

              <div class="control-section">
                <h4>Second Moon</h4>
                <div class="control-item">
                  <label>Enable Second Moon</label>
                  <div class="heartbeat-switch-container">
                    <label class="switch">
                      <input type="checkbox" id="secondMoonEnabled" />
                      <span class="slider round"></span>
                    </label>
                    <span class="switch-label">Enable</span>
                  </div>
                </div>
                <div class="control-item">
                  <label
                    >Orbit Radius (Ring Levels: -4 to +4, steps of 0.5)</label
                  >
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="secondMoonOrbitRadius"
                      min="-8"
                      max="8"
                      step="1"
                      value="0"
                    />
                    <span class="value-display" id="secondMoonOrbitRadiusValue"
                      >0.0</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Moon Size (√ó1.618)</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="secondMoonSize"
                      min="1"
                      max="5"
                      step="1"
                      value="1"
                    />
                    <span class="value-display" id="secondMoonSizeValue"
                      >1.0√ó</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Orbit Period (rotations per day)</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="secondMoonPeriod"
                      min="0.5"
                      max="6"
                      step="0.5"
                      value="2"
                    />
                    <span class="value-display" id="secondMoonPeriodValue"
                      >2.0/day</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Direction</label>
                  <select id="secondMoonDirection">
                    <option value="1">Clockwise</option>
                    <option value="-1">Counterclockwise</option>
                  </select>
                </div>
                <div class="control-item">
                  <label>Starting Position (degrees)</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="secondMoonStartingPosition"
                      min="0"
                      max="360"
                      step="15"
                      value="0"
                    />
                    <span
                      class="value-display"
                      id="secondMoonStartingPositionValue"
                      >0¬∞</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Moon Color</label>
                  <input type="color" id="secondMoonColor" value="#808080" />
                </div>
                <div class="control-item">
                  <label>Active Moon Color</label>
                  <input
                    type="color"
                    id="secondMoonActiveColor"
                    value="#ff9b35"
                  />
                </div>
              </div>

              <div class="control-section">
                <h4>Wave Controls</h4>
                <div class="wave-controls">
                  <h5>First Wave</h5>
                  <div class="control-item">
                    <label>Wave Color</label>
                    <input type="color" id="syncLineColor" value="#ff6b35" />
                  </div>
                  <div class="control-item">
                    <label>Amplitude</label>
                    <div class="slider-with-value">
                      <input
                        type="range"
                        id="sunWaveAmplitude"
                        min="0"
                        max="20"
                        step="1"
                        value="5"
                      />
                      <span class="value-display" id="sunWaveAmplitudeValue"
                        >5px</span
                      >
                    </div>
                  </div>
                  <div class="control-item">
                    <label>Speed</label>
                    <div class="slider-with-value">
                      <input
                        type="range"
                        id="sunWaveSpeed"
                        min="1"
                        max="10"
                        step="1"
                        value="3"
                      />
                      <span class="value-display" id="sunWaveSpeedValue"
                        >3√ó</span
                      >
                    </div>
                  </div>
                  <div class="control-item">
                    <label>Wavelength</label>
                    <div class="slider-with-value">
                      <input
                        type="range"
                        id="sunWaveLength"
                        min="1"
                        max="10"
                        step="0.5"
                        value="2"
                      />
                      <span class="value-display" id="sunWaveLengthValue"
                        >2.0√ó</span
                      >
                    </div>
                  </div>
                  <div class="control-item">
                    <label>Thickness</label>
                    <div class="slider-with-value">
                      <input
                        type="range"
                        id="sunWaveThickness"
                        min="1"
                        max="5"
                        step="0.5"
                        value="2"
                      />
                      <span class="value-display" id="sunWaveThicknessValue"
                        >2.0px</span
                      >
                    </div>
                  </div>

                  <h5>Second Wave</h5>
                  <div class="control-item">
                    <label>Wave Color</label>
                    <input type="color" id="secondWaveColor" value="#2b4d59" />
                  </div>
                  <div class="control-item">
                    <label>Amplitude</label>
                    <div class="slider-with-value">
                      <input
                        type="range"
                        id="planetWaveAmplitude"
                        min="0"
                        max="20"
                        step="1"
                        value="5"
                      />
                      <span class="value-display" id="planetWaveAmplitudeValue"
                        >5px</span
                      >
                    </div>
                  </div>
                  <div class="control-item">
                    <label>Speed</label>
                    <div class="slider-with-value">
                      <input
                        type="range"
                        id="planetWaveSpeed"
                        min="1"
                        max="10"
                        step="1"
                        value="3"
                      />
                      <span class="value-display" id="planetWaveSpeedValue"
                        >3√ó</span
                      >
                    </div>
                  </div>
                  <div class="control-item">
                    <label>Wavelength</label>
                    <div class="slider-with-value">
                      <input
                        type="range"
                        id="planetWaveLength"
                        min="1"
                        max="10"
                        step="0.5"
                        value="2"
                      />
                      <span class="value-display" id="planetWaveLengthValue"
                        >2.0√ó</span
                      >
                    </div>
                  </div>
                  <div class="control-item">
                    <label>Thickness</label>
                    <div class="slider-with-value">
                      <input
                        type="range"
                        id="planetWaveThickness"
                        min="1"
                        max="5"
                        step="0.5"
                        value="2"
                      />
                      <span class="value-display" id="planetWaveThicknessValue"
                        >2.0px</span
                      >
                    </div>
                  </div>
                </div>
              </div>

              <div class="control-section">
                <h4>Alignment Effects</h4>
                <div class="control-item">
                  <label>Size Multiplier (√ó1.618)</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="moonSizeMultiplier"
                      min="1"
                      max="4"
                      step="1"
                      value="1"
                    />
                    <span class="value-display" id="moonSizeMultiplierValue"
                      >1.618√ó</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Transition Curve</label>
                  <select id="transitionCurve">
                    <option value="linear">Linear</option>
                    <option value="easeInOut" selected>Ease In/Out</option>
                    <option value="elastic">Elastic</option>
                    <option value="bounce">Bounce</option>
                  </select>
                </div>
                <div class="control-item">
                  <label>Transition Duration (% of day)</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="transitionDuration"
                      min="10"
                      max="50"
                      step="5"
                      value="20"
                    />
                    <span class="value-display" id="transitionDurationValue"
                      >20%</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div id="radar-controls" class="control-group">
            <div class="accordion-header">
              <h3>Radar UI Controls</h3>
              <span class="accordion-icon">‚ñº</span>
            </div>
            <div class="accordion-content">
              <div class="control-section">
                <h4>Radar Grid</h4>
                <div class="control-item">
                  <label>Rotation (degrees)</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="radarRotation"
                      min="0"
                      max="360"
                      step="15"
                      value="0"
                    />
                    <span class="value-display" id="radarRotationValue"
                      >0¬∞</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Line Thickness</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="radarLineThickness"
                      min="0.5"
                      max="3"
                      step="0.5"
                      value="1"
                    />
                    <span class="value-display" id="radarLineThicknessValue"
                      >1.0px</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Radar Lines Color</label>
                  <input type="color" id="radarLinesColor" value="#cce0cc" />
                </div>
                <div class="control-item">
                  <label>Canvas Background</label>
                  <input type="color" id="canvasBackground" value="#f3ffe6" />
                </div>
              </div>

              <div class="control-section">
                <h4>Typography</h4>
                <div class="control-item">
                  <label>Font Family</label>
                  <select id="radarFontFamily">
                    <option value="Arial">Arial</option>
                    <option value="Helvetica">Helvetica</option>
                    <option value="Times New Roman">Times New Roman</option>
                    <option value="Courier New">Courier New</option>
                    <option value="Georgia">Georgia</option>
                    <option value="Verdana">Verdana</option>
                    <option value="system-ui">System UI</option>
                  </select>
                </div>
                <div class="control-item">
                  <label>Font Size</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="radarFontSize"
                      min="12"
                      max="32"
                      step="2"
                      value="20"
                    />
                    <span class="value-display" id="radarFontSizeValue"
                      >20px</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Text Color</label>
                  <input type="color" id="textColor" value="#cce0cc" />
                </div>
              </div>

              <div class="control-section">
                <h4>Day Labels</h4>
                <div class="day-labels-grid">
                  <div class="control-item">
                    <label>Monday</label>
                    <input
                      type="text"
                      id="dayLabel0"
                      value="MON"
                      maxlength="3"
                    />
                  </div>
                  <div class="control-item">
                    <label>Tuesday</label>
                    <input
                      type="text"
                      id="dayLabel1"
                      value="TUE"
                      maxlength="3"
                    />
                  </div>
                  <div class="control-item">
                    <label>Wednesday</label>
                    <input
                      type="text"
                      id="dayLabel2"
                      value="WED"
                      maxlength="3"
                    />
                  </div>
                  <div class="control-item">
                    <label>Thursday</label>
                    <input
                      type="text"
                      id="dayLabel3"
                      value="THU"
                      maxlength="3"
                    />
                  </div>
                  <div class="control-item">
                    <label>Friday</label>
                    <input
                      type="text"
                      id="dayLabel4"
                      value="FRI"
                      maxlength="3"
                    />
                  </div>
                  <div class="control-item">
                    <label>Saturday</label>
                    <input
                      type="text"
                      id="dayLabel5"
                      value="SAT"
                      maxlength="3"
                    />
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div id="alignment-days" class="control-group">
            <div class="accordion-header">
              <h3>Alignment Days</h3>
              <span class="accordion-icon">‚ñº</span>
            </div>
            <div class="accordion-content">
              <div class="control-item">
                <label>Alignment Slowdown Intensity</label>
                <div class="slider-with-value">
                  <input
                    type="range"
                    id="alignmentSlowdownIntensity"
                    min="0"
                    max="1"
                    step="0.1"
                    value="0.5"
                  />
                  <span
                    class="value-display"
                    id="alignmentSlowdownIntensityValue"
                    >0.5√ó</span
                  >
                </div>
              </div>
              <div class="control-section">
                <h4>Wave Alignment Days</h4>
                <div class="control-item days-selection">
                  <label
                    ><input type="checkbox" value="0" class="day-checkbox" />
                    Monday</label
                  >
                  <label
                    ><input
                      type="checkbox"
                      value="1"
                      class="day-checkbox"
                      checked
                    />
                    Tuesday</label
                  >
                  <label
                    ><input type="checkbox" value="2" class="day-checkbox" />
                    Wednesday</label
                  >
                  <label
                    ><input type="checkbox" value="3" class="day-checkbox" />
                    Thursday</label
                  >
                  <label
                    ><input
                      type="checkbox"
                      value="4"
                      class="day-checkbox"
                      checked
                    />
                    Friday</label
                  >
                  <label
                    ><input type="checkbox" value="5" class="day-checkbox" />
                    Saturday</label
                  >
                </div>
              </div>

              <div class="control-section">
                <h4>Brainstream Sync Days</h4>
                <div class="control-item days-selection">
                  <label
                    ><input
                      type="checkbox"
                      value="0"
                      class="brainstream-day-checkbox"
                    />
                    Monday</label
                  >
                  <label
                    ><input
                      type="checkbox"
                      value="1"
                      class="brainstream-day-checkbox"
                    />
                    Tuesday</label
                  >
                  <label
                    ><input
                      type="checkbox"
                      value="2"
                      class="brainstream-day-checkbox"
                      checked
                    />
                    Wednesday</label
                  >
                  <label
                    ><input
                      type="checkbox"
                      value="3"
                      class="brainstream-day-checkbox"
                    />
                    Thursday</label
                  >
                  <label
                    ><input
                      type="checkbox"
                      value="4"
                      class="brainstream-day-checkbox"
                    />
                    Friday</label
                  >
                  <label
                    ><input
                      type="checkbox"
                      value="5"
                      class="brainstream-day-checkbox"
                      checked
                    />
                    Saturday</label
                  >
                </div>
              </div>
            </div>
          </div>
          <div id="gravity-effect" class="control-group">
            <div class="accordion-header">
              <h3>Gravity Effect</h3>
              <span class="accordion-icon">‚ñº</span>
            </div>
            <div class="accordion-content">
              <div class="control-item">
                <label>Enable Gravity Effect</label>
                <div class="heartbeat-switch-container">
                  <label class="switch">
                    <input type="checkbox" id="gravityEnabled" />
                    <span class="slider round"></span>
                  </label>
                  <span class="switch-label">Enable</span>
                </div>
              </div>
              <div class="control-item">
                <label>Sun's Gravitational Pull</label>
                <div class="slider-with-value">
                  <input
                    type="range"
                    id="gravityStrength"
                    min="0"
                    max="1"
                    step="0.1"
                    value="0.5"
                  />
                  <span class="value-display" id="gravityStrengthValue"
                    >0.5</span
                  >
                </div>
              </div>
            </div>
          </div>
          <div id="heartbeat-animations" class="control-group">
            <div class="accordion-header">
              <h3>Heartbeat Animations</h3>
              <span class="accordion-icon">‚ñº</span>
            </div>
            <div class="accordion-content">
              <div class="control-item">
                <label>Planet Heartbeat</label>
                <div class="heartbeat-switch-container">
                  <label class="switch">
                    <input
                      type="checkbox"
                      id="planetHeartbeatEnabled"
                      checked
                    />
                    <span class="slider round"></span>
                  </label>
                  <span class="switch-label">Enable</span>
                </div>
                <div class="slider-with-value">
                  <input
                    type="range"
                    id="planetHeartbeatsPerDay"
                    min="1"
                    max="9"
                    step="1"
                    value="1"
                  />
                  <span class="value-display" id="planetHeartbeatsPerDayValue"
                    >1.0/day</span
                  >
                </div>
              </div>
            </div>
          </div>
          <div id="moon-alignment" class="control-group">
            <div class="accordion-header">
              <h3>Moon Alignment Effects</h3>
              <span class="accordion-icon">‚ñº</span>
            </div>
            <div class="accordion-content">
              <div class="control-item">
                <label>Transition Curve</label>
                <select id="transitionCurve">
                  <option value="linear">Linear</option>
                  <option value="easeInOut" selected>Ease In/Out</option>
                  <option value="elastic">Elastic</option>
                  <option value="bounce">Bounce</option>
                </select>
              </div>
              <div class="control-item">
                <label>Transition Duration (% of day)</label>
                <div class="slider-with-value">
                  <input
                    type="range"
                    id="transitionDuration"
                    min="10"
                    max="50"
                    step="5"
                    value="20"
                  />
                  <span class="value-display" id="transitionDurationValue"
                    >20%</span
                  >
                </div>
              </div>
              <div class="control-item">
                <label>Wave Amplitude</label>
                <div class="slider-with-value">
                  <input
                    type="range"
                    id="waveAmplitude"
                    min="0"
                    max="20"
                    step="1"
                    value="5"
                  />
                  <span class="value-display" id="waveAmplitudeValue">5px</span>
                </div>
              </div>
              <div class="control-item">
                <label>Wave Speed</label>
                <div class="slider-with-value">
                  <input
                    type="range"
                    id="waveSpeed"
                    min="1"
                    max="10"
                    step="1"
                    value="3"
                  />
                  <span class="value-display" id="waveSpeedValue">3√ó</span>
                </div>
              </div>
              <div class="control-item">
                <label>Wavelength</label>
                <div class="slider-with-value">
                  <input
                    type="range"
                    id="waveLength"
                    min="1"
                    max="10"
                    step="0.5"
                    value="2"
                  />
                  <span class="value-display" id="waveLengthValue">2.0√ó</span>
                </div>
              </div>
              <div class="control-item">
                <label>Sync Line Color</label>
                <input type="color" id="syncLineColor" value="#ff6b35" />
              </div>
              <div class="control-item">
                <label>Second Wave Color</label>
                <input type="color" id="secondWaveColor" value="#2b4d59" />
              </div>
              <div class="control-item">
                <label>Active Moon Color</label>
                <input type="color" id="activeMoonColor" value="#ff6b35" />
              </div>
              <div class="control-item">
                <label>Planet Wave</label>
                <div class="control-item">
                  <label>Amplitude</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="planetWaveAmplitude"
                      min="0"
                      max="20"
                      step="1"
                      value="5"
                    />
                    <span class="value-display" id="planetWaveAmplitudeValue"
                      >5px</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Speed</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="planetWaveSpeed"
                      min="1"
                      max="10"
                      step="1"
                      value="3"
                    />
                    <span class="value-display" id="planetWaveSpeedValue"
                      >3√ó</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Wavelength</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="planetWaveLength"
                      min="1"
                      max="10"
                      step="0.5"
                      value="2"
                    />
                    <span class="value-display" id="planetWaveLengthValue"
                      >2.0√ó</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Line Thickness</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="planetWaveThickness"
                      min="1"
                      max="5"
                      step="0.5"
                      value="2"
                    />
                    <span class="value-display" id="planetWaveThicknessValue"
                      >2.0px</span
                    >
                  </div>
                </div>
              </div>
              <div class="control-item">
                <label>Sun Wave</label>
                <div class="control-item">
                  <label>Amplitude</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="sunWaveAmplitude"
                      min="0"
                      max="20"
                      step="1"
                      value="5"
                    />
                    <span class="value-display" id="sunWaveAmplitudeValue"
                      >5px</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Speed</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="sunWaveSpeed"
                      min="1"
                      max="10"
                      step="1"
                      value="3"
                    />
                    <span class="value-display" id="sunWaveSpeedValue">3√ó</span>
                  </div>
                </div>
                <div class="control-item">
                  <label>Wavelength</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="sunWaveLength"
                      min="1"
                      max="10"
                      step="0.5"
                      value="2"
                    />
                    <span class="value-display" id="sunWaveLengthValue"
                      >2.0√ó</span
                    >
                  </div>
                </div>
                <div class="control-item">
                  <label>Line Thickness</label>
                  <div class="slider-with-value">
                    <input
                      type="range"
                      id="sunWaveThickness"
                      min="1"
                      max="5"
                      step="0.5"
                      value="2"
                    />
                    <span class="value-display" id="sunWaveThicknessValue"
                      >2.0px</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div id="embed-settings" class="control-group">
            <div class="accordion-header">
              <h3>Embed Settings</h3>
              <span class="accordion-icon">‚ñº</span>
            </div>
            <div class="accordion-content">
              <div class="control-section">
                <h4>Embed Configuration</h4>
                <div class="control-item">
                  <label>Include Modes</label>
                  <div class="mode-selection">
                    <label class="checkbox-label">
                      <input type="checkbox" id="embedIncludeModeA" checked />
                      <span class="checkbox-text">Mode A</span>
                    </label>
                    <label class="checkbox-label">
                      <input type="checkbox" id="embedIncludeModeB" checked />
                      <span class="checkbox-text">Mode B</span>
                    </label>
                    <label class="checkbox-label">
                      <input type="checkbox" id="embedIncludeCurrent" />
                      <span class="checkbox-text">Current Settings</span>
                    </label>
                  </div>
                  <div class="control-item">
                    <label>Default Mode</label>
                    <select id="embedDefaultMode">
                      <option value="A">Mode A</option>
                      <option value="B">Mode B</option>
                      <option value="current">Current Settings</option>
                    </select>
                  </div>
                </div>
                <div class="control-item">
                  <label>Autoplay</label>
                  <div class="heartbeat-switch-container">
                    <label class="switch">
                      <input type="checkbox" id="embedAutoplay" checked />
                      <span class="slider round"></span>
                    </label>
                    <span class="switch-label">Enable</span>
                  </div>
                </div>
                <div class="control-item">
                  <label>Show Speed Control</label>
                  <div class="heartbeat-switch-container">
                    <label class="switch">
                      <input
                        type="checkbox"
                        id="embedShowSpeedControl"
                        checked
                      />
                      <span class="slider round"></span>
                    </label>
                    <span class="switch-label">Enable</span>
                  </div>
                </div>
              </div>

              <div class="control-section">
                <h4>How to Use</h4>
                <div class="control-item">
                  <ol
                    style="
                      list-style-type: decimal;
                      padding-left: 1.5rem;
                      margin: 0.5rem 0;
                    "
                  >
                    <li>Add an "Embed" element to your Webflow page</li>
                    <li>Copy and paste the entire code block below into it</li>
                    <li>
                      To add mode triggers in Webflow:
                      <ul
                        style="
                          list-style-type: disc;
                          padding-left: 1.5rem;
                          margin: 0.5rem 0;
                        "
                      >
                        <li>
                          Add class
                          <code
                            style="
                              background: #2b4d59;
                              padding: 0.2rem 0.4rem;
                              border-radius: 3px;
                            "
                            >orbital-mode-trigger</code
                          >
                          to any element
                        </li>
                        <li>
                          Add custom attribute
                          <code
                            style="
                              background: #2b4d59;
                              padding: 0.2rem 0.4rem;
                              border-radius: 3px;
                            "
                            >data-mode</code
                          >
                          with value "A" or "B"
                        </li>
                      </ul>
                    </li>
                  </ol>
                  <div
                    style="
                      background: #2b4d59;
                      padding: 1rem;
                      border-radius: 4px;
                      margin-top: 1rem;
                    "
                  >
                    <strong>Example Webflow Elements:</strong>
                    <pre
                      style="
                        margin: 0.5rem 0;
                        color: #cce0cc;
                        white-space: pre-wrap;
                        word-wrap: break-word;
                        max-width: 100%;
                      "
                    ><code style="display: block; word-break: break-all;">&lt;div class="orbital-mode-trigger" data-mode="A"&gt;Mode A&lt;/div&gt;
&lt;div class="orbital-mode-trigger" data-mode="B"&gt;Mode B&lt;/div&gt;</code></pre>
                  </div>
                </div>
              </div>

              <div class="control-section">
                <h4>Embed Code</h4>
                <div class="control-item">
                  <textarea
                    id="embedCode"
                    rows="8"
                    readonly
                    style="
                      width: 100%;
                      margin-top: 1rem;
                      font-family: monospace;
                      padding: 1rem;
                      background: #2b4d59;
                      color: white;
                      border: none;
                      border-radius: 4px;
                    "
                  ></textarea>
                  <button onclick="copyEmbedCode()" style="margin-top: 1rem">
                    üìã Copy Code
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="script.js"></script>
    <script>
      document.querySelectorAll(".settings-menu h5").forEach((menuItem) => {
        menuItem.addEventListener("click", () => {
          document
            .querySelectorAll(".settings-menu h5")
            .forEach((item) => item.classList.remove("active"));
          document
            .querySelectorAll(".control-group")
            .forEach((panel) => panel.classList.remove("active"));
          menuItem.classList.add("active");
          const panelId = menuItem.getAttribute("data-panel");
          document.getElementById(panelId).classList.add("active");
        });
      });
    </script>
    <style>
      .mode-selection {
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-bottom: 16px;
      }

      .checkbox-label {
        display: flex;
        align-items: center;
        gap: 8px;
        cursor: pointer;
      }

      .checkbox-text {
        color: #cce0cc;
      }
    </style>
  </body>
</html>
